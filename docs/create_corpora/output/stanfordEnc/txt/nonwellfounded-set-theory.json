[{"date.published":"2008-04-16","date.changed":"2018-04-24","url":"https://plato.stanford.edu/entries/nonwellfounded-set-theory/","author1":"Lawrence S. Moss","author1.info":"http://www.indiana.edu/~iulg/moss/","entry":"nonwellfounded-set-theory","body.text":"\n\n\n This entry is about two kinds of circularity: object\ncircularity, where an object is taken to be part of itself in\nsome sense; and definition circularity, where a collection is\ndefined in terms of itself.  Instances of these two kinds of\ncircularity are sometimes problematic, and sometimes not.  We are\nprimarily interested in object circularity in this entry, especially\ninstances which look problematic when one tries to model them in set\ntheory.  But we shall also discuss circular definitions.\n\n\n The term non-wellfounded set refers to sets which contain\nthemselves as members, and more generally which are part of an\ninfinite sequence of sets each term of which is an element of the\npreceding set.  So they exhibit object circularity in a blatant way.\nDiscussion of such sets is very old in the history of set theory, but\nnon-wellfounded sets are ruled out of Zermelo-Fraenkel set theory (the\nstandard theory) due to the Foundation Axiom (FA).  As it happens,\nthere are alternatives to this axiom FA.  This entry is especially\nconcerned with one of them, an axiom first formulated by Marco Forti\nand Furio Honsell in a 1983 paper.  It is now standard to call this principle the\nAnti-Foundation Axiom (AFA), following its treatment in an\ninfluential book written by Peter Aczel in 1988.\n\n\n The attraction of using AFA is that it gives a set of tools for\nmodeling circular phenomena of various sorts.  These tools are\nconnected to important circular definitions, as we shall see.  We\nshall also be concerned with situating both the mathematics and the\nunderlying intuitions in a broader picture, one derived from work in\ncoalgebra.\nIncorporating concepts and results from category theory,\ncoalgebra leads us to concepts such as corecursion\nand coinduction; these are in a sense duals to the more\nstandard notions of recursion\nand induction.\n\n\n\n The topic of this entry also has connections to work in game theory\n(the universal Harsanyi type spaces), semantics (especially\nsituation-theoretic accounts, or others where a “world” is allowed\nto be part of itself), fractals sets and other self-similar sets, the\nanalysis of recursion, category theory, and the philosophical side of\nset theory.\n\n\n It is difficult to say in a general way what makes a definition\ncircular.  In this entry we are concerned exclusively with\nmathematical definitions of various sorts.  Consider the equation\nx = ½x + 1.  Is this a circular\ndefinition of the number 2?  In a sense, it is just that: a\nnumber has been defined in terms of itself.  But there is nothing\nproblematic about this equation, and so one may wonder why this is in\nthe same class of equations as x = x + 1, or\nx = x.  In the set theoretic setting, we often\nemploy circular definitions and characterizations of sets and classes.\nFor example, the collection HF of hereditarily\nfinite sets may be characterized by  \n (1) HF is the set of all x such that x is\na finite subset of HF.\n \n With a bit of work, it can be shown that (1) defines a unique set in\nstandard set theory ZFC.  (1) is more of a\ncharacterization than a textbook definition, however.  In\nother words, if one were presented with (1) as a putative\ndefinition, then the first step in understanding it\n would be to “straighten out” the circularity by providing\na different definition D of a set, then to check that every\nset satisfying D satisfies the property defining HF,\nand vice-versa. \n It is easier to think about circular objects than circular\ndefinitions.  Even so, it will be useful in reading this\nentry to keep circular definitions in mind.  The most conspicuous form\nof object circularity would be a set having itself as an element; even\nworse would be a set x such that x = {x}.\nFor those with a background in standard set theory, such sets are\nruled out by the axioms in the first place, and in the second it is\nnot clear why one would want to change the axioms in order to admit\nthem.  And if one does take the drastic step of altering the axioms of\na well-established theory, what changes?  This entry is an extended\ndiscussion of this matter, and related ones. \n Many of the ideas in this entry may be illustrated using\nstreams.  A stream of numbers is an ordered pair\nwhose first coordinate is a number and whose second coordinate is\nagain a stream of numbers.  The first coordinate is called the\nhead, and the second the tail.  The tail of a given\nstream might be different from it, but again, it might be the very\nsame stream.  For example, consider the stream s whose head\nis 0 and whose tail is s again.  Thus the tail of the tail of\ns is s itself.  We have s =\n〈0, s〉 , \n s = \n〈0, 〈0, s〉  〉 ,\n  etc. This stream s exhibits object circularity.  It is natural to\n“unravel” its definition as: \nIt is natural to understand the\nunraveled form as an infinite sequence; standardly,\ninfinite sequences are taken to be functions whose domain is the set\nN of natural numbers.  So we can take the unraveled form to\nbe the constant function with value 0.  Whether we want to take the\nstream s described above to be this function is an\nissue we want to explore in a general way in this entry.  Notice that\nsince we defined s to be an ordered pair, it follows from the\nway pairs are constructed in ordinary mathematics that s will\nnot itself be the constant sequence 0. \n One way to define streams is with systems of equations for them.\nFor example, here is such a system: \n We should comment on the ≈ notation here.  We are concerned\nwith modeling various types of ordinary mathematical objects in set\ntheory, and one kind of object that we want to model will be that of a\nsystem of equations.  This is an unusual thing to do.  In\nanticipation of things to come, we use the ≈ sign for\nequations we would like to solve.  So in our discussion of\nx = ½x + 1 above, we would prefer to write\nx ≈ ½x + 1.  The point is that\n‘x’ here is a symbol, but whatever we take\nsymbols to be, it will almost never be the case that the symbol\nx is identical to the expression ‘½x +\n1’ or to anything related to it.  For the solution to an\nequation or a system of them, we will use a “dagger” to\nrefer to the solution.  Thus for this equation,\nx† = 2; the reason that 2 satisfies the\nequation is that 2 =\n½(2)+ 1 (and here we use = rather\nthan ≈). \n Returning to equation\n  (2), we take it to define streams\nx†, y†, and\nz†.  These satisfy equations:\n \n  These\nstreams then have unraveled forms.  For example, the unraveled form of\ny† is (1,2,0,1,2,0,…). \n There is a natural operation of “zipping” two streams.\nAlso called “merging”, it is defined by \n So to zip two streams s and t one starts with the\nhead of s, and then begins the same process of zipping all\nover again, but this time with t first and the tail of\ns second.  For example, if x†,\ny†, and z† are\nthe solutions to the system in equation (2) above, then we might wish to consider,\nfor example, \nzip(x†, y†). \n In unraveled form, this is  \n But please note that our definition of \nzip\n does not work by recursion as one might expect; for one thing, there\nare no “base cases” of streams. \n We can even ask about solving systems of equations written in terms of \nzip.\n It is easy to see that an equation like x =\nzip(x, x)\n is satisfied by all and only the constant streams.  One like\n  \n has no solutions whatsoever.  But if we do things right, we can\ndefine very interesting streams.  For example, consider \n The system has a unique solution.  The unraveled form of\nx† begins as \n that of y† begins \n The first of these is a famous sequence, the Thue-Morse\nsequence t (actually x†\n= \ntail(t).)[1] \n We have been careful to emphasize the difference between streams as\nwe originally spoke of them and their unraveled form as functions on\nthe natural numbers.  At this point we want to look at this matter\nmore closely. \n Before we turn to the details, let us consider the parallel matter of\nsequences construed as functions on the natural numbers.\nAnyone who teaches about (infinite) sequences of some sort, say\nsequences of integers or real numbers, may at some point need to say\nwhat a sequence actually is.  Surely this is not done very often in\nelementary presentations: usually one would give examples instead of a\nformal definition, or illustrate what sequences are for by using them\nin some way or other.  In any case, it happens that in the usual\nset-theoretic modeling of mathematics, sequences of real numbers would\nbe taken to be functions from the set of natural numbers to\nthe set of real numbers.  So we have a reduction of one kind\nof object, sequences, to another, functions.  Of course, functions are\nthen reduced to sets of ordered pairs, ordered pairs to sets of a\ncertain form, natural numbers to sets of yet another form, and real\nnumbers in their own way.  Concerning this kind of reduction, we\nshould always ask whether it is necessary or silly, and whether it is\nuseful to those using the mathematical objects in the first place.\nAll of this is worth keeping in mind as we turn back to the sequences. \n Let N∞ be the set of streams of natural\nnumbers, and let NN be the set of\nfunctions from N to N.  The reduction employs two\nfunctions \n defined as follows: For φ, we first take a stream s to a\nfunction fs : N\n→ N∞.  This time we use recursion: \n Then from f we get a function\nφ(s) : N → N by\ng(n) =\nhead(fs(n)).\n This defines φ, the precise definition of what we spoke of\nearlier by the name unraveling.  In the other direction, we\nneed infinite systems of equations.  Given a function\nf : N → N, consider \n Then this system has a solution, and we take ψ(f) =\nx0†. It is then possible to show\nthat the composition in one direction, ψ \n⋅\n φ ,\n is the identity on N∞ and the other composition\n φ\n⋅\n ψ is the identity on NN.  In plainer\nterms, we can pass from streams to functions on\nnumbers, and we can also go the other way. \n At this point, we can ask questions about the reduction.  The\nfirst question that comes to mind concerns the ontological status of\nthe entities: \n Asking this about streams and functions on N is no different\nthan asking it for any other kind of reduction of mathematical\nobjects.  Any discussion of it would take us to issues in the\nphilosophy of mathematics that go beyond our goals in this entry.\nHowever, there are two additional points to be made on this matter. \n First, the standard modeling of pairs in set\n theory[2]\n would have us believe that from the beginning of this section\nonwards, we have been talking about things which do not exist: as we\nhave literally defined them, there are no streams of numbers\nwhatsoever!  We discuss this at length in Section 2.2.1, when we talk\nabout the Foundation Axiom of set theory.  The point is is that this\naxiom forbids object-level circularity in a way that precludes streams\nin the exact form that we have them.  Thus if one wants to model the\nintuitive notion of a stream as we have introduced it, one would need\nto say something like: “By a stream, we mean a function on\nnumbers.  We adopt special notation to make it look like streams are\npairs of a certain sort, but deep down they are just functions on\nnumbers.” \n Continuing with questions about the reduction of streams to\nfunctions, we can ask whether there is any conceptual difference using\nstreams as opposed to functions.  Certainly these represent different\npoints of view, and for this reason it should be useful to have both\navailable.  To see the difference, let us return to the matter of\nzipping streams.  Done in terms of functions\nf, g : N → N,\nthe zipped version would be \n It would be harder to use this to turn equation (4) into\nthe definition of two sequences by\n recursion.[3]\n The upshot is that we can start to see some kind of difference when\nwe use one kind of representation instead of another.  And this brings\nus to our second point on the reduction of streams to functions:\nconceptual differences worth exploring may be hidden under the surface\nof such a reduction. \n At this point, we are done with our discussion of streams.  Of course\nwe shall revisit them in later sections to illustrate various points.\nWe also broadly foreshadow the main points of this entry: \n We want to move from streams to a more complicated example, infinite\ntrees.  Some of the points that we make will be closely related to\nwhat we have seen for streams, and some will raise new issues. \n Here is a class of objects which we shall call\n trees:[4] \n Trees may be specified by tree systems (of equations).  Here\nis one such system: \n Again, we use the ≈ notation in variables for which we want to\nsolve, and we superscript variables with a dagger in the solution.  In\nthis case, the one and only solution of this system might be pictured\nas \n It will be useful to recast the definition of our trees in terms of\npairs and triples: \n Then our system above is \n So now we have something that looks more like what we have seen with\nstreams.  But with streams we had an unraveled form, and so we might\nwonder what the unraveled form of trees is.  To some extent, it would\nbe the pictures that we have already seen.  In particular, one could\ntake a tree as we have defined them and give a description of how one\nwould construct the picture.  (The full construction would take forever,\nof course, but the same is true of our work on streams.)  Conversely,\ngiven a picture, one could set down a tree system for it, where a\n“tree system” is a system of equations as in equation (6).\n(In general, the tree system would be infinite, but if you find a\nregular structure in the picture, then the system could be\nfinite.) \n On the other hand, pictures are not entirely respectable as standard\nmathematical objects, despite the work that has gone on and continues\nto go on to rehabilitate them.  For work on trees, one would need a\nmore complicated set of definitions.  We are not going to present any\nof this. \n More ‘cheating’. Let Tr be the\nset of trees that we have been discussing.  Then our definition in\nterms of Tr would have: \n Now again the standard modeling in set theory gives us a problem: one\ncan prove in ZF set theory that Tr has no solution whatsoever. \nAnd\nthis runs afoul of our pictures and intuition.  The standard way out\nis to change the equals sign = in (7) to something else.  For most\nmathematical work this is perfectly fine, but it is the kind of move\nwe explore in this entry. \n Let us turn from streams and trees to sets.  Before presenting some\nanalogs to what we have just seen, at pictures of sets.  To\nmake the discussion concrete, consider the set: \n Let us call this set x.  We want to draw a picture of this\nset, so we start with a point which we think of as x itself.\nSince x has two elements, we draw add two children: \n Again, we draw arrows on behalf of the members.  We take y\nto be ∅ and z to be {{∅}, ∅}.  We\ndo not add any children of y because it is empty.  But we\nwant to add two children to z, one for w =\n{∅} and one for ∅.  So we have \n We conclude by putting an arrow from w to y, since\n∅ ∈ {∅}. \n Now we want to forget the identity of the nodes.  We could either\ntrade in the four sets that we used for numbers (to mention just one\nway), or else finesse the issue entirely.  We would get one of the\npictures below: \n Incidentally, in building this graph, we allowed ourselves to share\nthe node y both times we came to ∅.  It would be\npossible to avoid doing this, using different nodes.  The end result\nwould be a tree: \n A graph is a pair (G,→), where → is a\nrelation on G (a set of ordered pairs from G).  The\nidea is that we want to think of a graphs as notations for\nsets, just as systems of equations were notation for streams.\nThis is explained by the concept of a decoration: A\ndecoration d of a graph G is a function whose domain\nis G and with the property that \n For example, let us introduce names for the nodes in the tree-like\ngraph and then find its decoration: \n Since 6 has no children, d(6) must be ∅.  Similarly,\nd(5) and d(2) are also ∅.  d(4) =\n{d(6)} = {∅}.  d(3) =\n{d(4), d(5)} =\n{ {∅}, ∅}.  And d(1) =\n{d(2), d(3)} =\n{∅, { {∅}, ∅} }.\nNote this is the set x with which we started.  This is no\naccident, and you are encouraged to think about why this is true.  A\nrelated point: for a graph like the one in equation (8), where we use\nthe sets involved as the nodes of the graph, you should check that the\nidentity function is a decoration. \n However, things get more interesting with an example like the loop\ngraph \n Let d be a decoration of this graph.  Then we would have\nd(x) = {d(x)}.  So writing Ω\nfor d(x), we have Ω = {Ω}.  This set\nΩ is the most conspicuous example of object circularity: a set\nthat is a member of itself.  (Indeed, Ω is its own only\nmember.) \n Finally, we want to consider an example that harks back to the stream\nsystem (2) in Section 1.1. \n Let us try to understand what a decoration d of this graph\nwould be.  In order to follow the discussion below, you should\nremember from set theory that the standard rendering of the first few\nnatural numbers is by \n and also that the standard definition of the ordered pair \n〈x, y〉 \n is as {{x},{x, y}}. \n Since x0 has no children,\nd(x0) must be ∅.  Then it follows\nthat d(y0) =\n{d(x0)} = {∅} = 1.  And now\n \n Furthermore,\nd(z1) = {2}.  It follows now that \n And then  \n The upshot is that we can go back to our original stream system in\nequation (2) and then solve it by putting down our big graph and\ndecorating it.  The solution would be \n A hyperset or non-wellfounded set is a set that is\nobtained by decorating an arbitrary graph. \n Another way of thinking about hypersets is in terms of systems of\nset equations, as we have done it for streams and trees.  By such\na system we mean a set X which we think of as variables (any\nset will do), and then a function e from X to its power set\n ℘X.\n That is, the value of e on each variable is again a set of\nvariables.  Set systems and related concepts correspond to ones for\ngraphs in the following way: \n Every graph corresponds to a system of set equations, and vice-versa.\nFor example, corresponding to the picture in (9) we would take X = {x0, y0, z0, x1, y1, z1, x2, y2, z2, x3, y3, z3} \n So the way to go from the picture to the function is that each\nset e(v) is the set of children of v.\nIn terms of the kind of notation we have seen before, we prefer to\nwrite this system in a way that elides e: \n The study of non-wellfounded sets proposes to treat every\ngraph as a picture of a unique set.  In order to make this work, some\nkind of change is needed in set theory.  The reason is that sets like\nΩ = {Ω} do not exist in the most commonly-used set theory,\nZFC.  This is due to the Foundation Axiom (FA):\nwe’ll discuss this issue further in Section 2 below.  For now,\nFA implies that the only graphs with decorations are those\nwith no infinite sequence of points following the arrows.  The change\nin set theory that we make is simply to replace this axiom FA\nwith a different one called AFA.  The content of AFA\nis that every graph has a unique decoration (alternatively, every\nsystem of set equations has a unique solution). \n At the same time, there is a reduction of hypersets to ordinary sets.\nThis means that one could regard all talk of hypersets as merely\nabbreviatory.  This reduction is fairly complicated, and we shall\npresent it in due course. \n Adopting AFA not only helps with circularly defined sets,\nbut it also helps with streams and trees.  As we have mentioned, if\none uses FA, there are no streams or trees according to our\ndefinitions.  That is, N∞ is literally the\nempty set with FA, as is Tr.  But with AFA\nthese sets are non-empty.  Moreover, one can prove that under\nAFA, N∞ and Tr have the\nproperties that one would want them to have.  (For example, one can\nprove that N∞ corresponds to the function\nspace NN in the way we have discussed.)\nFinally, working out the resulting theory gives tools that are useful\nin studying collections of circularly-defined objects such as streams\nand trees.  The point is that this one axiom AFA gives us all\nof this, and more. \n The Axiom AFA was first studied by Marco Forti and Furio\nHonsell in 1983. Their paper (Forti and Honsell 1983) studies a number\nof axioms which contradict the Foundation Axiom FA,\ncontinuing a much older line of work in set theory that deals with\nalternatives to FA.  The one they call X1\nis equivalent to what has now come to be called AFA. \n Peter Aczel’s book (1988) treats many axioms that contradict\nFA, but it pays most attention to AFA.  It also\nproved many of the important results in the subject, including ones\nmentioned in this entry.  Aczel’s own entrance to the subject was an\narea of semantic modeling that he had been working on, concerning the\ncalculus of communicating systems (CCS).  He found it natural to\npropose a set theoretic semantics, and yet the most obvious modeling\nseemed to run into problems with Foundation.  It is always a bold step\nto recommend changing the axioms of set theory in order to make an\napplication of the subject.  Usually it is a brash move.  For the most\npart people resist the idea: when the proposal might well be cast in\nmore standard forms (as can be done with work using AFA),\npeople wonder why one wants to tamper with a standard theory; when it\ncannot be cast in a standard way, the reception is even worse. \n Aczel’s work became influential for two research areas.  He visited\nStanford in 1985, where Jon Barwise was director of the Center for the\nStudy of Language and Information (and this author was a post-doc\nthere).  Barwise recognized the value of the work, partly because he\nhad similar problems with Foundation in his own work on situation\nsemantics, and partly because he saw in the work an appealing\nconception of set that was at odds with the iterative conception that\nhad been received wisdom for him and\npractically everyone else raised in the mainstream tradition\nof mathematical \n logic.[5]\n He thought that non-wellfounded sets should be called by a\nname that reflected the change in conception, and he proposed calling\nthem hypersets in parallel to the hyperreal numbers\nof non-standard analysis.  This terminology has for the most part not\nstuck, but it is not completely outdated, either.  In this entry,\nwe’ll use both terms interchangeably. \nPerhaps the first serious application of the tools we are studying \nin this entry comes from this period.   This is Barwise and Etchemendy’s\nbook The Liar (Barwise and Etchemendy 1987).   \nIts proposals are contributions to the theory of truth.   Since we are not\nprimarily interested in those applications of hypersets, we resist the temptation\nto discuss matters further.   \n \n Aczel’s book was also immediately influential for people working on\nsemantic questions in theoretical computer science.  This was not so\nmuch because it raised questions about set theory, but rather because\nit showed the value of using the categorical notion of a\ncoalgebra.  The main use in the book is to organize certain\nconcepts into an elegant subject.  But it quickly became apparent that\nthis notion of coalgebra could be studied on its own, that themes from\nthe book had a field of application much wider than pure set\ntheory. \n This entry reflects the influence of all of these sources.  To be\nsure, we shall see the main results on the set theory obtained using\nAFA.  Also, we present enough of the theory that someone who\nneeds to read papers that use it should be able to do start doing so.\nWe also emphasize the conceptual underpinnings of the subject, and\ncompare them to more standard foundational work.  This is hardly ever\ndone in technical papers on the subject, but should be of interest to\npeople in several areas of philosophy.  Finally, our work incorporates\nmany ideas and results coming from the coalgebra research community in\nthe years following the publication of Aczel 1988. \n We conclude this section with links to the two following\nsupplementary documents: \n These contain introductory points on two issues that we shall revisit\n (again, in supplementary documents)\n at the end of this entry.    The reason for the separation is that \n the issues discussed pertain to game theory and measure theory\n on the one hand, and fractals and metric spaces on the other.\n That is, the discussions are not entirely set theoretic.  \n In addition, the mathematical prerequisites for all our supplements are\n  greater than for the main body of this entry.\n  They may be omitted without losing the main thread.\nHowever, we emphasize\n that the  overall theory presented in this entry does treat all of these\n instances of circularity “under the same roof.”\n  \n\nThe set theoretic side of our story is connected to two axioms, the\nFoundation Axiom and the Anti-Foundation Axiom.  We\npresent them here, and discuss some related conceptions of set. \nWe start with a reminder of a few basic facts of set theory.  One can\nfind more in any textbook on the subject, and also the entry on\n   set theory, especially in its\nsupplementary document \n  basic set theory.\n \nPower sets.\nFor any set s, the power set of s is the set of subsets of s.\nWe write this set as ℘(s)\nor just as ℘s.\n \nPairing.\nThe Kuratowski ordered pair  \n〈a,b〉 \n of two sets a and \n b is {{a}, {a,b}}.\n[6]\nThe standard presentation of\nset theory defines and studies relations, functions, and the like\nin terms of this pairing operation.\nAll  mathematical facts  about these notions can then be proved in set theory.\n \nNatural numbers.  One also defines versions of the\nnatural numbers by: 0 = ∅, 1 = {∅}, etc.  Again, all facts\nabout numbers and functions on them can be proved in set theory.  In\nfact, essentially all mathematical facts whatsoever can be stated\nformally and proved in set theory.\n \nUnion and transitive closure.\nFor any set a,   ∪a\n is the set of elements of elements of a.\nA set is transitive if every element of it is also a subset of it.\nThe transitive closure of  a is \n   \nThis set is denoted tc(a).   It is the smallest transitive set which \nincludes a as a subset.\n Proof.\nLet c = {x \n     ∈  s: x ∉  f(x)}.   \nSuppose towards a contradiction that  c ∈ \n     f[s].\n  Fix  a   ∈     s\n   such that c =   f(a).\nThen a ∈  c iff \na ∉ \nf(a)  iff \na  ∉  c.\n \n Corollary.\n  For all sets s, ℘s\n   is not a subset of s.\n \nProof.\n If   ℘s ⊆\n s, \nwe construct a function f from s onto \n℘s:  \nlet ff(f) =\na\nif  a ∈ s, and otherwise let \nff(f) = ∅.\nSo we cannot have  ℘ s ⊆\ns,  lest we contradict \nCantor’s Theorem.\n \nWe call the last result Russell’s Paradox in view of\nits content.  Neither our statement nor our proof are the most\nstandard ones.\n \nWell-ordered sets and ordinal numbers.\nWe need the concept of ordinal numbers at a few places.\n \nA well-ordered set is a pair W = (W, <),\n where < is a relation on  the set W\nwhich is a strict linear order and with the property that every non-empty subset of\nW has a <-least element.  For example, (N, < )\nis a well-order, where < is given by\n   \n0    < 2   <  4 <  …  1  <    3  < 5 <    …\n \nOne can show using the Replacement Axiom that every well-ordered set W\nhas a unique decoration d.   An ordinal number\n(or ordinal)  is a set of the form\nd(w), for some well-ordered set \n(W,< ) and some w ∈ W.\n \nOne usually uses Greek letters such as α and β for ordinal numbers,\nand one also writes α <  β  if α ∈ β.   There are a number of\nstandard facts about ordinal numbers, including the following:\n \nAn ordinal α  is a successor ordinal if \nα = β ∪ {β} for some (other) ordinal β.\nOrdinals which are neither 0 nor\nsuccessor ordinals are called limit ordinals.   The smallest\nlimit ordinal is  ω; it is  d(1) for the well-order we saw above,\n0    < 2   <  4 <  …  1  <    3  < 5 <    …\n \nThe cumulative hierarchy.\nThere is a unique operation \n taking ordinals α  to \nsets  Vα such that\n \nThe ZFC axioms.\nWe are not going to state them here, but see \nthe  entry on  set theory.\n \nClasses.\nThe axioms of set theory are not about sets as much as they are about \nthe universe of sets.     One of the intuitive\nprinciples of the theory is that arbitrary collections of mathematical objects\n“should be” sets.    Due to paradoxes, this intuitive principle is not directly formalized\nin standard set theories.  In a sense, the axioms one does have are intended to \ngive enough sets to constitute a mathematical universe while not having so many\nas to risk inconsistency.   But   \nit is natural in this connection to consider some collections of objects which\nare demonstrably not sets.  These are called proper classes.  The\nterm class informally refers to a collection of mathematical objects.  \nClasses are usually not first-class objects in set theory.  (Certainly they are not\nin the most standard set theory, ZFC.   However, \nthe SEP entry\n on  Alternative Axiomatic Set Theories\n does \nmention quite a few theories which treat classes as first-class objects.) \nInstead, a statement about classes\nis  regarded as a paraphrase for some other (more complicated and usually less\nintuitive) statement about sets.    This is probably not a good place to discuss\nthe details of the formalization; one \nuseful source is Chapter 1 of Azriel Levy (1979).\n \n For our purposes, classes may be taken as \n definable subcollections\nof the universe of sets.   For example, if \na  is any set, then the class of\n all sets which do not contain\na   as an element is {x :a  ∉ x}.  \nIn  specifying a class, one may use the first-order language with the \nmembership symbol and the rest of the syntax from logic, and one may \nalso use particular sets as parameters, as we have just done.\n \nThe class V of all sets is  {x : x   = x}.\nThe definability here is in the first-order logic with just a symbol ∈ for membership,\nand the quantifiers range over sets (not classes).\nAnother class of interest is WF, the class of all well-founded sets.\nThis is the same as   ∪αVα, the sets that belong to\nVα for  some ordinal α.\n \nIf C is a class, we define \nthe power class of C, ℘C,\nby \n \nwhere  φC \nis the formula that defines the class C.\nIt is important that in this definition x ranges over sets and not classes;\nthe formal language used does not directly talk about classes in the first place.\nFor example, ℘V = V,\n and ℘(WF) = WF.\nWe also define the action of other operations on classes in the same general way.\nFor example, the finite power set ℘fin\n takes a class C to the class of\nfinite subsets of  C.\n \nThe Foundation Axiom (FA)\nmay be stated in different ways. \n   Here are some formulations;\ntheir equivalence in the presence of the other axioms\n is a standard result of elementary set theory.\n \n\neach of whose terms is an element of the previous term. \nThe first of these is probably the easiest to remember and think about.\nThe second is important because it is the one most easily expressed in first-order\nlogic.   The third is a recursion principle; we shall consider a closely related \nprinciple in\nSection 4.4.\n\n \nAs we have seen, one formulation of FA says that every set belongs\nto some Vα.  This is a mathematical formulation of the\niterative concept of set: sets are just what one gets by\niterating the power set operation on the well-ordered class of ordinal\nnumbers.  We start with nothing, the empty set.[7]\nThis is V0.  Then we form \nV1 = \n℘V0.\n  Then \nV2 = \n℘V1.\nGoing on, when we come to the first limit ordinal ω, we take \nVω\nto be \nthe union of all the sets\nVn.  \n  Then we proceed to\nVω+ 1\n = ℘ Vω.\n  We continue like this absolutely\nforever, going through “all the ordinal numbers”.  The collection so\ndescribed is the universe V of sets.\n \nThis way of describing the iterative picture suggests that the ordinal numbers\nwere somehow present  “before” all the iteration takes place, or at least\nthat they have a life apart from the rest of the sets.   There is a different way\nof understanding the iterative conception, one that emphasizes the \nharmony between the iteration of the power set operation and the Replacement Axiom:\nas one iterates the power set axiom, more and more well-ordered sets appear.\nReplacement allows us to decorate these well-ordered sets, creating new ordinals\nin the process.  Thus the whole picture is one of balance.\nIndeed, this point about balance can be phrased without reference to any\n“iteration” at all: there is an equilibrium in the set theoretic universe\nbetween the “sideways” push of the Power Set Axiom and the \n“upward” push of the Replacement\nAxiom.[8] \nUsing the Foundation Axiom.\nFA plays no role in the formalization of mathematics or in the study of infinity.\nIt is an “optional extra”  for mathematics.   FA is used\nto clarify our picture of sets, just as we have described.  This often comes \nwith an implicit argument of roughly the following shape:\n \nAn argument.\nOne is tempted to justify FA along the following lines:\n \nThe rejoinder here is that there might be other intuitive pictures\nor conceptions of sets\n that also explain, or draw lessons from, the paradoxes.   So they \n would be as sensible as FA in this regard.\n  \n Since FA plays a conceptual role but no mathematical role,\n it is not surprising that there are widely different views on \n whether it is an important part of standard set theory ZFC or not.\n For a collection of quotes on the role of FA, see\n Barwise and Moss (1991).\n \nThe Foundation Axiom and object circularity.\nWe mentioned in connection with streams that according to standard set theory,\nstreams of numbers do not exist.   Here is the reasoning.\nRecall that we defined a stream to be a pair of a number and another stream.\n  Suppose that a stream\ns exists, so that the set N∞\nof streams is non-empty.\n  Recall that we have a function  \nfs : N → N∞ \n by recursion:\n  \nTo save on some notation at this point, let’s write hn for \nhead(fs(n))\nand \ntn\nfor\ntail(fs(n)).\nFor all n,\n \n fs(n)  = \n〈 hn, tn 〉 \n = \n {{hn},  {{hn, tn}}}; \n \nthis is true of any pair whatsoever.\nNotice that \n \nfs(n+1) \n=  tn\n∈\n{hn, tn}\n∈\nfs(n).\n \nSo we have\n \nfs(0)\n∋\n{h0, t0}\n∋\nfs(1)\n∋\n{h1, t1}\n∋\nfs(2)\n∋\n…\n \nThis is a descending sequence in the membership relation, something forbidden by FA.\n \nThe same kind of remark applies to infinite trees as we discussed them,\nand certainly to hypersets.    The conclusion is that if one wants to work with such objects\nin a set theory with FA, then one must do so indirectly.    \n \nThe Anti-Foundation Axiom AFA is stated as follows:\n \nThe theory ZFA is ZFC with FA  replaced by AFA.\nIt includes the Axiom of Choice, even though there is no “C” in the \nacronym.\n \nThe coiterative conception of set.\nAFA gives rise to, or reflects, a conception of set that is at odds\nwith the iterative conception.   For lack of a better name, we call it\nthe coiterative conception.    According to this, a set is an abstract\nstructure obtained by taking a graph G \n(a set with a relation  on it),\nand then associating to each node x in the graph a set in such a way that\nthe set associated to x is the set of sets associated to the children of x\nin G .    This association is what we called decoration earlier.\n This association might be thought of procedurally, but it need not be\nso construed.   One can instead posit a harmony between decoration\nand power sets.[9] \nWhat changes with AFA, and what does not change?.  \n AFA gives us unique solutions to systems of set systems;\nthis is almost immediate from the axiom and the close relation of set systems\nand graphs.    But it also gives us unique solutions for stream systems and tree systems.\nThe details of this are suggested by our work on the decoration of \n the graph related to streams and pairs which we saw\nearlier on.\n \nAll of the results in set theory which\ndo not use FA go through when one replaces it by AFA.  In particular, \nthe following topics are unchanged: Russell’s Paradox  and the Separation\n(Subset) Axioms;\nthe modeling of ordered pairs, relations and functions; \nthe natural numbers, real numbers, etc.;  well-orderings and the ordinal numbers;\ntransfinite recursion on well-orders and well-founded relations;\nthe Axiom of Choice; problems and results concerning the sizes of infinite sets.\nThe only difference would be in modeling questions for circularly defined objects of various\nsorts,\nas we have been discussing\nthem.    \n \nIn terms of modeling circularity, AFA gives several new concepts\nand techniques.   These are described in our next section.\n \nThis section offers\na quick introduction to the central parts of the theory\nnon-wellfounded sets: what one would need to know to use\nthe theory and to read papers on it.\n \nThe topic of bisimulation is one of the earliest goals in a\ntreatment of non-wellfounded sets.\n \n Let (G,→) be a graph.\n A relation R on\nG is a bisimulation if the following holds:\nwhenever x R y, \n \nThese are sometimes called by the suggestive names\nzig and zag.\n \nBisimulation between graphs.\nBefore giving examples, we should clarify some usage.\nAt a few points, we’ll speak of bisimulation between two graphs\nG and H, rather than on a single graph.\n   This can be defined in the same general way.    Note also that one can\n   take the disjoint union G + H\n    of the graphs G and H, and then \n   a bisimulation between G and H would be a \nbisimulation on G + H.\n \nReturning to bisimulation on a graph.\n For an example, let’s look at the following graph G:\n \nAll of the  3-points have no children. \n(Point 3d is not reached from any other point, but\nthe arrows into a node are of no interest.)\n   So every relation which\nonly relates 3-points is a bisimulation  on G.\nConcretely, \n \nis easily seen to be a bisimulation.\n \nFor that matter, the empty relation is also a bisimulation on G.\n \nAnother bisimulation is\n \nLet’s call this relation R.\nIt would take a lot of checking to actually verify\nthat R is a bisimulation.\nHere is just two items of it:  We see that  2b R 2c.\nNow  2c → 2b.  \nThus we need some node\nx so that x R 2b\n and  2b → x.\nFor this, we take  2a.     For our second point \nof verification, again note that \n 2b R  2c .   Since \n 2b →  3b, we need some\n node x so that  2c → x and  3b\n  R \n x.\n We take \n x = 3c for this.\n \n The largest bisimulation on our graph G is the \n relation that relates\n1\n  to itself, all 2-points to\n all 2-points, and all 3-points\n  to all 3-points.\n Note that this is an equivalence relation:\n reflexive, symmetric, and transitive.\n This is not an accident.\n  This relation   ≡b  is\ncalled  bisimilarity.\n \nWe can always form the quotient graph \n using the largest bisimulation.\nHere is how this works, using G\n from above\nas an example.    In  G/≡b,\nwe would have three nodes, corresponding to the\nthree  equivalence classes under the largest bisimulation;\n let’s call these  classes \n 1, 2 and 3.   We put an arrow between\n two of these  classes if some (every) element of the first has an\n arrow to some element of the second.    In this way, we \n construct the quotient.  \n Here is a picture of  G\n again, along with its \n quotient  G/≡b\nunder the largest bisimulation:\n \nThe map from G\n to   G/≡b\n takes the 2-points to  the point 2,\nand the 3-points to the point 3.\n \nUp until now, we have said what bisimulation is, but we did not describe \nits relation to anything else.    To rectify matters, here is the main result.\n  Theorem\nAssume AFA.   Let G be a graph, let x and y \nbe nodes of G, and let d be the decoration of G.\nThen the following are equivalent:\n \nWe are not going to prove this theorem in full here, but instead here\nare two hints.   To prove that (1) implies (2), check that \nthe kernel relation of d, \n \nis a bisimulation on G.\n \nIn the other direction, the idea is to turn a bisimulation into a graph\nitself, and then extract two decorations of it; by the uniqueness part\nof AFA these must coincide.\nHere is how this is done in a concrete example.  \nWe saw above that \n \nis a bisimulation.   \nWe make it into a graph by taking the product relation.\nThis gives the following graph which we call H:\n \nLet d be a decoration (no, the decoration)\n of G.\nWe get two decorations of H,  k and l defined by\n \n (It is good to check that these really are decorations of H.)\n But H can have only one decoration.    So k = b.\n And then, corresponding to the fact that  \n  2a R 2c,\n  for example, \n we have\n \n This concludes our sketch.  For more details, see Aczel (1988).\n \nOur work on bisimulation above can be used to effect a \nreduction of the of non-wellfounded sets to that of ordinary sets,\nmuch in the spirit of what we saw for streams and functions in\nSection 1.1.\n    There are several ways to \ndescribe such a reduction.   \n \nA pointed graph is a triple  (G,→, g) \n such that  →  is \na relation on G\n and g ∈  G.\n   A bisimulation\n between pointed graphs  (G,→, g)  and \n  (H,⇒, h)  \nis a bisimulation  R\n between  (G,→)  and \n (H,⇒)   such that\ng   R   h.  \n \nIn the remainder of this discussion, we let \np, q,  …  denote \npointed graphs.    We write   p ≡bq\n if there is a bisimulation\nbetween p and q.   We write \np ε\nq\n if\nthere is a pointed graph  (G,→, g)\n and some g → h\nin G\n so that\n \np ≡\n (G,→, h)      and  \nq  ≡\n (G,→, g).\n \nSentences in the language of set theory talk about sets, and\nwe translate them to sentences about pointed graphs by \nrestricting all quantifiers to the class of pointed graphs, and then\ntranslating ∈ to ε, and ≡ for  =.  For\nexample, the Axiom of Extensionality \n∀x,y(x=y → \n ∀z(z ∈ x →\n z ∈ y)).\n \nwould translate to (where p, q, r range over\npointed graphs):\n \n∀p,q(p ≡ q →\n ∀r(r ε p →\n r ε q)).\n \nThis last sentence is then provable.  (Hint: the union of any set\nof bisimulations on a graph is again a bisimulation on it.)\n \nIndeed, all of the axioms of ZFA are provable, including AFA.\nThis is a fairly long and tedious verification, but it is not so tricky.    \n  A version of it\n(for set theory with urelements, objects which are not sets)\nis the topic of a chapter in Barwise and Moss (1996).\n \nOne can also go further: instead of translating the identity relation\n =  into something more complex, we may keep the language simple\nand complicate the interpretation.   We would like to replace “pointed graph”\nby “≡-class of pointed graph”. Since these are not sets, we instead\nemploy Scott’s trick and instead use “set of \nwell-founded pointed graphs whose node sets are \n≡-equivalent\nand with the property that no pointed graph of smaller rank is \nalso  ≡-equivalent to them.”\n \nDoing all of this leads to relative consistency result:\n \nThe way we have presented graphs, decorations, and AFA is a \nvery “minimalist” presentation.  \n If one would like some node of a graph G\nto be decorated by some set  a\n the most obvious way would be to\nadd all the elements of tc({x})\n as fresh nodes in G, with\ny→ z  iff z ∈ y.   \nThis means that one must take new copies\nif some of the sets in tc({x})\n already happen to be nodes in G.\nThis is often cumbersome:\nwhen working with graphs and decorations, one might well want to \npre-specify as much as possible the value of the decoration on\na node.    There are several ways to do this with AFA, and we’ll indicate\none here.\n \nTwo sets are disjoint if their intersection is\nempty.    When one takes the union of two sets,\nsay a and b,  it is sometimes\na good idea to make sure that no element occurs\nin both sets.   The way to do this is to replace one or both\nof  a and b by copies.\n \nThe disjoint union of sets  a and b \n is  a+ b,  defined by\n \nIt is easy to see that the two sets in the union are disjoint:\nthe elements of  a+ b\n “wear on their sleeve” a mark of which\nset they come from.\n \nThe disjoint union comes with two natural functions:\n \ndefined by inl(x) = \n〈x,0〉 \n and  inr(x) = \n〈x,1〉  .\n[10] \nA graph extended with set parameters  (or extended graph for short)\nis a set G\n together with a function \n e: G→ \n     ℘G+V.\n If  e(g) \n  is of the form  \n〈s,0〉 \n for some s ⊆ G, then \nwe intend it as a node just as in our earlier treatment. \n  In particular, we want to decorate\nit with the set of decorations of its children.   If  e(g) = \n〈x,1〉 ,\n then\nwe want a decoration to be forced to have the value x on g.  \n \nFormally, a decoration of an extended graph is a function d defined on G\nso that for all g ∈ G,\n \nHere is an example: \nLet G be the extended graph with node set \n{w, x, y, z}\nand with e given by\n \nThen a decoration d of this extended graph\n would satisfy the following conditions:\n  \nThe point we are trying to make is that there is quite a bit of theory\naround to facilitate working in ZFA in order to do modeling of\nvarious forms of circular phenomena.\n \n The fact that AFA allows us to solve various kinds of\nsystems of set equations is only the beginning.  When we discussed\ninfinite trees in\n Section 1.2,\n we noted that the collection Tr of infinite trees\nshould satisfy (7), repeated below:  \nA similar equation should hold of streams from \nSection 1.1:\n \nFor that matter,  the universe V\nof sets should satisfy\n  \nAssuming the Power Set Axiom and the formulation of \n℘ as an operator\non classes, the universe \nV does satisfy this equation.\n \nWe are free to step back and think of these as equations which\nwe hope to solve.   For example, we could take the set N as known,\nregard N∞ as a variable, and then consider an equation like\nX = N×X.    \nHowever, the  none of these is the kind of equation that we could hope to\nsolve in a perfectly general way using AFA: the right-hand sides are \nnot given in terms of sets of objects on the left.\nSolving more complicated systems takes special additional  work.\nHere is what is known on this.\n \nFirst, under FA,  \nthe first two of our three equations each have a unique\nsolution: the empty set.   Under AFA, they have many solutions.\nFor example, for the stream equation, the set of streams corresponding to\nfunctions which are eventually  0 is a solution.   \nHowever, the largest solutions are of special interest.   \nFor these, one can prove that the largest solutions are in one-to-one correspondence\nwith what we have called the unraveled forms.   And for other reasons which we\nshall see, there is a good reason to accept the claim that the largest solutions\nare good mathematical models of the intuitive concepts. \n \nUnder AFA, things are different.   Here is the general picture:\nAn operator on sets F is  monotone if whenever\na ⊆ b,\nthen also Fa ⊆ Fb.\n    This is a very common feature\nfor operators on sets.   The polynomial operators on sets\nare the smallest collection containing the constant operators, \nand closed under cartesian product, disjoint union, and functions from\na fixed set.    For example, if A and B are fixed sets, then \nFs  = (A × s)  +\n B(s + A) is a polynomial operator on sets.\nIf one also allows the power set operator to occur, then we\nget the power polynomial operators.   Every power polynomial operator\nis\nmonotone.    And now, we have the following results due to  Aczel:\n \n Proposition. Then \n every monotone operator  F on\nsets has a least fixed point F*   and a\n greatest fixed point  F*.    In particular, \n every polynomial operator on classes has least \n and greatest fixed points.      On classes, the same is true for\n the  larger collection of power polynomial operators.\n  \nAssuming FA, the fixed points are unique; frequently they are the \nempty set.   \nWith AFA, the greatest fixed points usually have non-wellfounded \nmembers.    We shall study this in more detail when we turn to coalgebra.\nFor now,  we return to the last of the example equations\nat the top of this section, \nV   =  ℘V.\n This equation has no solutions\nin sets due to \nCantor’s Theorem.\nHowever, in terms of classes, this equation does have solutions, as we\nknow.   The universal class  V\n is a solution, as we have seen.   \nAnd the class WF of well-founded sets is a solution.   This is the \nsmallest solution ℘*, and \n V  is the largest.    Under FA, \n℘*\n = V\n   = ℘*.   Under AFA, \n ℘*\n  and ℘* are\ndifferent: \n℘*  = WF, and \n℘* =  V\n and thus contains \nsets such as  Ω= {Ω}.\n \nThe purpose of this section is to compare FA and AFA in a \ntechnical way, using ideas from category theory.    That is, the \nlanguage of category theory and especially its \nbuilt-in feature of duality are used to say something insightful\nabout the relation between FA and AFA.    Further, the dual\nstatements about the axioms\n suggest a much more systematic and thoroughgoing \nduality about a host of other concepts.    This deeper point is\nnot a strictly mathematical result but rather more of a research program,\nand so the final subsection here will detail some of what is known\nabout it.\n \nAs we said, our work here begins to use category theory.\nWe realize that not all readers will be familiar with that subject\nat all.    \nSo we shall \ntry to make this section as accessible as possible.\nIn particular, we’ll \nonly present those notions from category theory that we actually\nneed in our work of this section.      We also illustrate all of the \ndefinitions on a few categories which will be of interest.  And as we go\non in future sections, we’ll develop only the background that we \nneed.[11] \nOur use of category theory is mainly for the terminology and intuition.   \nWe know that there are philosophical issues connected with the use\nof category theory as a foundation for mathematics.     This entry does not\ndeal  with any of these issues in a head-on way.\n \nInitial and final objects.\n \nWe need a definition from category theory.\nFix a category C.\nAn object x  is initial if for every object y\nthere is exactly one morphism \nf : x → y \nDually, an object x  is final if for every object y\nthere is exactly one morphism\nf : y → x.\n \nIn  Set, the empty set is an initial object; for every set y,\nthe empty function is the only function from  ∅ to y.\nIn addition, the empty set is the only initial object.\n \nAs for final objects, every singleton {x} is a final object.\nFor every set y, the constant function with value x is the only\nfunction from y  to x.    And the singletons are the only final objects \nin the category.\n \nWe refer the reader to the entry on \n  category theory\n for the definitions of category and functor.\n \nWe need to mention the objects and morphisms in the categories of sets\nand of classes, and also to spell out the functors of interest on\nthem.\n \nSet.\nThe objects are the sets, and the morphisms \n are triples \n〈x, y, f〉,  where\nf : x → y.  That is,\neach triple 〈 x, y, f〉 is a\nmorphism from x to y.  The identity\nmorphism ida for a set a is\n〈a, a, f〉 , where f is\nthe identity function on a and the composition operation of\nmorphisms is given by:\n \n〈y, z, g〉  ⋅ \n〈x, y, f〉  = \n〈x, z, g ⋅ f〉 \n \nFunctors on Set.\nThe polynomial operators on sets extend to\n endofunctors on Set.     The way that these operations are defined\n on morphisms is straightforward and may be found in any book\n on category theory.   Here is a brief summary:\n For any set s, the constant functor with value s is a functor\non Set.  \n It takes every function to  ids.\nFor any two functors F and G,\nwe have a functor  F×\nG\ndefined by  (F×\nG)(a) = Fa ×\nGa; here we use the \ncartesian product on sets.   If \nf : a → b, then \n \nWe also have a functor F+G defined by \n (F + G)(a) = Fa+ Ga\n using the coproduct on sets, that is, the disjoint union.\n Here the action on morphisms is by cases \n  \n  (F + G)(f)\n  (inl x) = Ff(x)\n    \n    (F + G)(f)\n  (inr x) = Gf(x)\n   \nA special case is Fx = x + 1.  That is,  \nFx is the disjoint union of x\nwith a singleton.   And if f : x → y,\n then \n Ff : Fx → Fy\nworks in much the same way, taking the new point in x to the new point in y,\nand otherwise behaving like f.\n \nThe power polynomial operators  also extend to endofunctors on Set:\non morphisms\nf : x → y, \nthe function \n℘f:\n     ℘x → \n     ℘y\n takes each subset a ⊆\nx\nto its  image \n \nClass.\nHere the objects are formulas in the language of set theory\nφ(x, y1,…, yn) together with n sets  a1,…, \n an.\nWe think of this as \n \n{b : φ[b,  a1,…, \n an]}.\n \nThe morphisms are then triples consisting of two \nformulas with parameters defining the domain and codomain,\nand a third one with two free parameters defining the action\nof the morphism.\n \nFunctors on Class.\nThe functors of interest are again the power polynomials.\nThey are defined on \n Class\n  similarly to the way they are defined on  Set.\nFor our purposes, the main difference between  the two categories\n is that\nin \nSet  we cannot solve  \n℘(x) = x, while we can do so in \n Class.\n \nLet F be an endofunctor on a category \nC.\n An algebra for\nF is a pair  (c, f),\nwhere  c  is an object of C, and\nf : Fc → c.\n \nHere is a basic example that illustrates why these are called \nalgebras.    \nLet’s take the category Set\n of sets, and the functor\n \nFor the object N of natural numbers,  HN is thus\ntwo copies of N×N.\n  We’ll use colors to indicate\nthe different copies, with red for the first copy and blue for\nthe second.  So we can view  HN as\n \nOne example of an algebra for this functor\nis  (N, α), \nwhere\nα(a, b)\n = a + b and  \nα(a, b) \n= a ×\nb.  In other words, α operates on the red pairs\nby adding and on the blue pairs by multiplying.\n \nGetting back to the terminology of “algebra”, the point is that \nthe function α does the work of the two tables.   \nThe function “is” the tables.\n \nHere is another example of an algebra.  \nThis time we are concerned on  Set  with \nFx = x +1, as defined above.\nThe algebra we have in mind is  (N, s).   Here\ns : N+1  → N \ntakes the  natural number n to its successor n+1,\nand the new point in N+1  to the number 0.\n \nUp until now, we have merely given examples of algebras for\ndifferent functors.\nThe advantage of the categorical  formulation is that the usual notions\nof a morphism of algebras turn out to be special case\nof a more general definition.\n \nLet  \n (c, f) \n  and \n   (d, g) \nbe algebras for the same functor F on the category C.\nA morphism of algebras from\n (c, f) \nto\n   (d, g) \n    is\na morphism \nα : c → d\n  so that\nthe diagram below commutes:\n \n(This means that the two compositions, \nα ⋅ f and \n g⋅Fα,\n are the same function.)\n \nIt now is clear that we have a category of algebras for a given functor.\nAnd so we  immediately have the concept of initial and final\nalgebras.   There is no guarantee that these exist, but in many interesting cases \nthey do.    The reason we are interested in initial algebras is their connection to\nrecursion.     \n \nTo see this in detail, we return to the functor \nFx = x + 1\n on Set.\nWe saw the algebra  (N, s) \n above.    We claim that this is an initial algebra.\nWhat this means is that for any algebra  \n (A, a), there is a unique algebra morphism\n h :  (N, s)  →  (N, s).\n   That is, the diagram below commutes:\n \nThue function a from A+1 to A may be decomposed into \na map \n i : A → A \ntogether with\nan element b ∈ a.\n  And to say that the diagram above commutes\nis the same thing as saying that \n h(0) =  b, and for all n ∈ N,\n h(s(n)) =  a(h(n)).\n \nStepping back, the purported initiality of  (N, s) is the same as the following assertion:\n \n This is the standard form of the Principle of Recursion on N.\nThe upshot is that this principle is equivalent to the assertion that \n (N, s)  is an\ninitial algebra of the functor Fx = x +1.     \n \nOne way to interpret this equivalence is that we can take the existence\nof an initial algebra for \nFx  = \nx+ 1\n as an axiom of set theory,\nin place of the usual Axiom of Infinity.   That axiom says that there is\nan algebra for the singleton functor \nSx = {x}\n on sets which contains\n∅ as an element and whose structure is the inclusion.\nThis principle is easier to state than the algebraic reformulation.\nIt takes a bit of work to use the simpler standard formulation to derive\nthe Recursion Principle, and this is one of the basic topics in any\ncourse on axiomatic set theory.\n \nTwo general facts: \nFirst,  the structure map of an initial algebra on  Set  is always \na bijection.  This follows from a very general result in category theory due to J. Lambek.\nAnd from this we see that ℘\n has no initial algebras on  Set, by \n Cantor’s Theorem.\n \nInitial algebras for polynomial functors on  Set.\n \nLet F :  Set → Set \n be a power polynomial functor.     We know that F is \nmonotone (it preserves the subset relation on sets), and \nit is not hard to check a slightly stronger property:  F preserves\ninclusion maps between classes:    An inclusion\nis a  map ia, b : a → b \n on classes which “doesn’t do anything”:\na must be a subset of b,\nand for all x ∈ a, \ni(x) = x.  \nWe say that F is standard if it preserves inclusions in \nthe sense that \nFia, b  = \niFa, Fb.\nOnce again, every power polynomial endofunctor on \nSet is standard.\n \nThe polynomial\noperations on sets (without power)  are also continuous:\nthey preserve countable unions of sets.   \n \nLet F :  Set → Set  be a polynomial endofunctor.\nWe sketch the proof that the least fixed point F*\n carries the structure\nof an initial algebra, together with the identity on it.   \n \nOne forms the increasing sequence\n \nWe write 0 for ∅.\nEach of the maps shown is an inclusion, by standardness.\nLet F* be the union of the increasing sequence \nFn0 of sets.\nThen F(F*) = F*\n  by continuity.    So  (F*, id)  is an algebra for F.\nTo check initiality, let \n(A, a)\nbe an algebra for F, \nso\n a : Fa → a.\nDefine maps\n gn : Fn(0)\n  → A \n by recursion, with \n  g0 : 0\n  → A \n the empty function\n(this is what initiality of ∅ amounts to), and \n  gn+1 = \n  a ⋅ Fgn.\nCheck that we have an increasing sequence of functions\n \nthen take the union to get  \nφ  :  F* → A.\nOne checks that this φ is a morphism of F-algebras, and indeed\nis the only such.\n \nWe now turn to coalgebras.\nAgain, let F be an endofunctor on a category C.\nA coalgebra for F is a pair (c, f), where \nc\nis an object of C, and \nf : c → Fc.   Comparing\nthis to the definition of an algebra, we can see that a\ncoalgebra is the same kind of structure, except that the \ndirection of the arrow is reversed.\n \nFor example, every graph is a coalgebra of  ℘  on \nF :  Set → Set.\nThat is, every graph  (G,→)  may be re-packaged \nas  (G, e), with\ne : G →\n ℘ \n G \ngiven by\n e(x) = {y ∈ G :\n       x→ y}.   In words, we trade in the \nedge relation of a graph with the function that assigns to each\npoint its set of children.    This re-packaging has an inverse,\nand so the notions of “graph as set with relation”\nand “graph as coalgebra of ℘” \nare in this sense\nnotational variants.[12] \nLet \n (c, f)\n  and \n   (e, g)\n    be coalgebras for the same functor.\nA morphism of coalgebras from \n (c, f)\n  to \n   (d, g)\n    is\na morphism \n α : c → d \n  in the category C so that\nthe diagram below commutes:\n \nA coalgebra (d, g) is a final (or terminal)\ncoalgebra if for every coalgebra  (c, f), there is a \nunique morphism of coalgebras \nα : (c,f) → (d,g).\n \nHere is another example as we wind our way back\nto set theory.\nThese are based on discussions at the beginning of this entry,\nconcerning streams of numbers \n(Section 1.1).\nWe are dealing with the functor Fa = N×a.   \nThen a \nsystem of stream equations is  a coalgebra for F.\nTo see how this works in a concrete case, we return\nto  equation (2), reiterated below:\n \nWe regard  this system as a coalgebra (X, e), where \nX = {x, y, z},\ne(x) = \n〈0,y〉 , \n and similarly for e(y)  and z(x) .\nSo now we have a concrete example  of\na  coalgebra  for this F.   Another\ncoalgebra for F uses the set N∞  of streams as its\ncarrier set.   The coalgebra itself is  \n \nThis coalgebra is final.   We shall not verify this here, but instead we\napply this point.\nBy finality, \n there is a unique \n e† : X → \n N∞\nsuch that the diagram\nbelow commutes:\n \nWe now  follow the elements of X around the diagram\nboth ways.\nFor x, this tells us that \n \nThat is, \ne†(x) is a stream whose\nfirst component is 0 and whose second component is \ne†(y).\nSimilar observations hold for\ne†(y)\nand e†(z), of course.\nThe upshot is that\nthe three streams\ne†(x),\ne†(y)\nand e†(z)\nare exactly the ones we are after.\n \nMuch the same applies to the tree example from\nSection 1.2.\n \nAt this point we rephrase FA and AFA to make a comparison.\nRecall that V\n is the class of all sets, and that \n V = ℘V.  This\nmeans that (trivially) the identity on the universe maps V onto\n℘V, and vice-versa.  Despite this, we want to introduce notation\nfor these two maps that makes them different.  We shall write\n \nThus i\ntakes a multiplicity (a set of sets) and\nregards it as a unity (a set).\nWe also have a map in the other direction\n \nThis j takes a set and regards it as a set \nof sets.\n \nThe Foundation Axiom in Algebraic Form.    Except for not being a set,\n(V, i)\n is an initial algebra for  ℘:\nfor all sets a\n and all \n f : ℘\n         a → a,\n there is a unique\n s : V → f\n  such that\nm \n = \n f  ⋅ ℘  m:\n  \nThe Anti-Foundation Axiom in Coalgebraic Form.\nExcept for not being a set,\n(V, j)\n is a final coalgebra for  ℘:\nfor every set b\n and every \n e: b→ \n     ℘b,\nthere exists a unique \ns : b → V\n such that\ns   = ℘ s ⋅ e:\n \nThe map s  is called the solution to the system\ne.\n  \nClass forms.   We  only mentioned forms of the axioms pertaining\nto sets.     They are a little nicer when\nstated as axioms  on  Class:\n \nFA is equivalent to the assertion that \n(V, i)\n is an initial algebra for ℘\n on\nClass.\n \nAFA is equivalent to the assertion that \n(V, j)\n is a final coalgebra for ℘ on\nClass.\n \nA chart just below  indicates a kind of  conceptual comparison \nof iterative and coiterative ideas.      \nThe entries towards the top are dualities in the categorical sense.\nMoving downwards, the rows in the chart are more like research directions\nthan actual results.    So spelling out the details in the chart is more like\nan ongoing research project than a settled matter.\n \nFor many functors on Set, especially polynomial functors\nand the finite power set functor, \nthe initial algebra is the least fixed point together with the identity.\nFor the polynomial functors, this least fixed point is \nitself an algebra of terms.   \n\n \nThe connection between greatest fixed points and final coalgebras is the\ncontent of the following result.\n \nThe original result used much weaker hypotheses on F, \nusing notions which we did not define, so \nour statement is rather weaker than in Aczel’s book.   Several papers\nhave gone on to weaken strengthen this Final Coalgebra Theorem.\n Bisimulation.\nWe have given the definition of bisimulation earlier,\nin Section 3.1.\nWe discussed it in connection with graphs, but the reader may also\nknow of a notion with the same name coming from modal logic.\nActually, the theory of coalgebra studies a more general notion,\nthat of bisimulation on a coalgebra for a given functor, defined first\nin Aczel and Mendler (1989).\nThis more general notion\nspecializes to several concepts which had been proposed in their own \nfields.     In addition, it is (nearly) the dual concept of a congruence on\nan algebra; this explains our line in \nthe conceptual comparison chart.\n Equational logic and modal logic.\nA great deal of work has shown ways in which equational logic\nand modal logic are “dual”,   but to spell this out in detail would\nrequire quite a bit more category theory than we need in the rest\nof this entry.\n \nThere is a growing field\nof coalgebraic generalizations of modal logic.   For a survey of\nthis area, see Kurz (2006).      \n \nThe final coalgebra\nof a functor may be regarded as a space of complete observations.\n(As with all our points in this section, this statement is mainly for functors on\nSet, and the notion of “complete observation”\nis, of course, merely suggestive.) For example, let \nAtProp be a set whose elements are\ncalled atomic propositions, and consider the functor\nF(a) = ℘fin(a) ×\n℘(AtProp ).  A coalgebra for this is a set a\ntogether with one map of a into its finite subsets, and\nanother map into the collection of sets of atomic propositions.\nPutting the two maps together gives a finitely-branching\nKripke model: each point has finitely many children and some set of\natomic propositions.  Now modal logic gives us a way of\n“observing” properties of points in coalgebras (Kripke\nmodels).  And the record of everything that one could observe from a\npoint is the modal theory of that point.  Further, one may take the\ncollection of all theories of all points in all finitely-branching\nKripke models and make this collection (it is a set) into the carrier\nof a final coalgebra for the functor.  Indeed, this would be one way\nto construct a final coalgebra.\n \nCorecursion. Returning now to \nthe chart, we present an example of a corecursive\ndefinition.\n The equation for zip \ngiven above shows \n how the zip  function on streams is\nto work.    It should satisfy \n \nHere is how zip  is uniquely defined via a corecursive definition.\nWrite  N∞×\nN∞  as S in this discussion.\nWe want a map from S to N∞. \nWe are dealing with S as the final coalgebra of \n the functor Fa = N × a.\n And we’ll write the structure\n on the final coalgebra as\n〈 head, tail&thinsp;〉, just as we did it in\nSection 1.1.\nThe idea is to turn  S into the carrier set\nof a coalgebra for, say  (S, f). \nThen zip\nwill be the unique coalgebra morphism from \n (S, f) to \n (S,\n〈 head,tail 〉 ).   \nIt remains to define f.\nLet \n \nAs mentioned, by finality there is a unique \nzip : S → N∞ \n so that\nthe diagram below commutes:\n \nTo make sure that this works, we follow an arbitrary pair of streams,\nsay \n〈s,t〉  around the square, starting in the upper-left.\n  Going down, we have the stream\n   zip(s, t).\nFrom this, the structure takes this to\n〈head(zip(s, t)),\n tail(zip(s, t))〉\n ∈ FN∞.\nBut we could also take our \n〈s, t〉  across the top via f to get \n〈head(s), \n    〈t, tail(s)〉〉.\nNow Fzip applies to this pair, and\n this is where the action of F as a functor\nenters.   We get \n〈head(s),\nzip(tail(t), s)〉.\nSo overall, we have \n \njust as desired.    It says:  to zip two streams, start with the head of the first,\nand then repeat this very process on the second followed by the tail of the first.\n \nThe main point of this demonstration is that the principle of finality is \nsufficient to define and study corecursive definitions.    There are many further\ndevelopments in this area.\n \nSets, again. We have already discussed at length the lines in the table concerning \nthe Foundation and Anti-Foundation Axioms, and their attendant \nconceptual backgrounds.   The point of this section is to situate\nthat entire discussion inside of a larger one.\n \nExamples of final coalgebras and corecursive definitions. \nOur conceptual comparison makes the point that algebras embody \nsets with operations.    This point is almost too easy:   \nthe reason behind the terminology\nof  “algebras” in category theory is that sets with operations may be modeled\nas algebras in the categorical sense.    For coalgebras, it is harder to make the\ncase that they directly correspond to sets with either “transitions” or “observations”.\nHowever, we present a few examples that motivate this point.\n \nThe table above lists a few functors on Set \n  or \nClass  along with\nfinal coalgebras or other data from \nthe conceptual comparison chart.\n \nFirst, for any set S, the functor Fa = S×\n a.    \nA coalgebra for this F is a stream system of equations\nas we saw it in \nSection 1.1,\n except that there\nwe made things concrete and took S to be the set of natural numbers.\nThe final coalgebra is the set S∞ =  S ×\n  S∞  of \nstreams over S.\n   The logical language for this functor\nwould be a sentential  (propositional) language \nwhose sentences are either true  or of the form s : φ\n where s∈S.\nThe semantics would be the obvious one; for example\n \nOne should note that  carrier of the  final coalgebra may be taken to be   \ncertain theories in this language.   These may be described extrinsically as\nthe theories of all points in all coalgebra.   It is more informative, however, to \nset down a logical system and then consider the maximal consistent sets in the system.\nWith the right definition, the maximal consistent sets do turn out to be the carrier of a\nfinal coalgebra for the functor.\n \nSecond, we consider Fa = (S × a)   + 1.\nHere 1 = {0} and + is the disjoint union operation.   However, it is \nmore common for people to represent the one and only element of \n1 using a symbol like *.\nThe coalgebras are like stream systems of equations, except now an\nequation might ask for a stream to “stop” by having * on the right-hand \nside.\nSo an example of a coalgebra would be \nx ≈ \n〈s,y〉 ,\n y ≈ *.\nThen the solution would  take \nx†  to be the one-term sequence  s.\nThe logic for this functor would be the same logic (HML) as before, except that\nnow we add an atomic sentence to detect the ends of finite sequences.\n  \nTurning to the last two lines,  we already know that AFA is equivalent to\nthe assertion that  (V, id)\n is a final coalgebra of ℘; also, even without \nAFA, we have a final coalgebra whose carrier set is the pointed graphs modulo\nbisimulation.   The logic in this case is infinitary modal logic,\nactually, it is a fragment of this logic.   It turns\nout that two points in a given coalgebra have the same infinitary modal theory\niff they are bisimilar.\n  \nThe line concerning ℘fin(a) ×\n ℘(AtProp) is the closest to \nthe Kripke semantics of modal logic.   One might hope that the final coalgebra\nwould turn out to be the canonical model of the modal logic \nK, but this is not\nquite right.    One needs to cut down to those maximal consistent sets which are\nrealized by some point in some finitely branching model.\n  As the reader may notice, we are being extremely vague about matters\nconcerning the logics: is there a principled explanation of where they come from?\nWhat, if anything,\nis the relation between the final coalgebras and canonical models\nas we find them in modal logic?  The explanations here are too long and too\ninvolved for this entry.   Once again,\none place to start reading about these matters is Kurz (2006).\n \nThe lines in at the bottom of the  conceptual comparison chart\n are the  most programmatic of all.\n  Doing without AFA: final coalgebras\nin ZF. We mentioned in note [2] that it is possible to alter the pairing\noperation in such a way that one may prove many of the results that\nour treatment obtains only by using ZFA.  This points is\nmentioned in Forster (1994) and developed in detail in Paulson (1999)\n(and in other papers by Paulson). One replaces the Kuratowski pair\n〈x,y〉 with a variant,\n({0}× a)∪ ({1}× b).  (This is the\nusual disjoint union operation, also called the coproduct on\nsets.)  Then one defines variants of other notions: the cartesian\nproduct, functions, etc.  And in terms of these one can indeed study\nstreams and infinite trees, and many other sets of interest in this\nentry.  Even more, one can prove\nfinal coalgebra theorems, stating sufficient conditions\nfor the existence of a final coalgebra whose structure is the identity.\n(This is an important point for this line of work: in ZF we can \nshow the existence of final coalgebras for the same functors as in\nZFA, but in the latter theory we can get final coalgebras whose\nstructure maps are the identity.)\n \nOne might think that this move undermines much of the interest\nin AFA.     For Paulson, the reduction is important since he wants\nto use an automatic theorem prover to work with assertions in set theory.\nIt makes sense to work out detailed reductions so as to avoid changing\nthe set theory.     \nOtthers may not find this conclusive, for two reasons.  First, the\nmethod doesn’t apply to equations like x =\n{x}, or to collections like\nx = ℘fin(x).  The latter kind of\nequation is especially useful in applications.  But even more, what\nwill be of interest will be the whole assembly of what we might\ncall coalgebraic concepts: coinduction, corecursion, and\ntop-down treatments of various phenomena.  Someone who is using these\nconcepts and is also worried about modeling in set theory would\nprobably find it convenient to work with AFA, even if many of\nthe end applications could be done in standard set theory.\n  \nTo put things differently, and to ask a question that surely belongs\nin this entry, why should one work with AFA instead\nof FA?  Much depends on the purposes one brings to set\ntheoretic modeling in the first place.  For most purposes, including\nmost of mathematics, it makes little or no difference.  To model some\ncircular phenomena, it turns out to be convenient to work with final\ncoalgebras of various functors.  It is especially nice with the\nstructure maps on those final coalgebras may be taken to be the\nidentity function.  For example, this would allow us to say that a\nstream of numbers really and truly is an ordered pair of a number and\na stream.  In this case, having AFA would be nice, but the\nresults above show that in many of the interesting cases, it is not\nactually needed.  On the other hand, if one is content to work with\nisomorphisms, then having the structure map be the identity is a kind\nof “optional extra”.  Further, the question of which axiom\nto adopt might appear to be besides the point. \n  Interested readers may consult the following supplementary\ndocument for a discussion of how the more general ideas from coalgebra\nand closely related fields help with discussions of the kinds of\nmathematical circularity which we looked at previously. \n    \n This entry has two major thrusts.  First, it introduced\nnon-wellfounded sets and described some of the mathematics around\nthem.  It was not comprehensive in this regard, and one should see\nPeter Aczel’s book (1988) for much more, including\ndiscussions of axioms besides AFA that we did not even mention.\nOne could also see Barwise and Moss (1996) for more on some of the\npoints that were touched on \nhere.[13]\n The presentation owes much to work in coalgebra that began\nshortly after these books appeared.  So readers familiar with either\nof them would still find something new in the first sections of the\nentry. \n The other thrust had to do with the conceptual points made in\nSection 4.5.\nThe idea is to situate the\nmathematics of set theoretic circularity inside a larger topic,\ncoalgebra, and then to understand both points in terms of a larger\ndivision between “bottom-up” and “top-down”\nideas.  This larger discussion is more programmatic than we would\nlike, and much remains to be done on it.  Our hope is that it helps\nreaders understand set theoretic circularity, both how it\nworks, and also why it is attractive.","contact.mail":"lmoss@indiana.edu","contact.domain":"indiana.edu"}]
